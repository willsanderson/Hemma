homio-next:
  modes:
    light:
      primary-background-color: rgb(50, 50, 50)
      secondary-background-color: rgb(40, 40, 40)
      app-header-background-color: rgba(76, 80, 84, 0.3)
      ha-card-background: rgba(255,255,255,0.08)
      ha-card-background-active: rgba(255,255,255,0.3)
      thermostat-card-off: rgba(255,255,255,0.04)
      thermostat-card-on: rgba(255,255,255,0.12)
      app-theme-color: rgb(0, 0, 0)
      ha-card-box-shadow: none
      button-card-box-shadow: var(--ha-shadow-light)
      homio-nav-bg: rgba(255,255,255,0.1)
      homio-nav-border: rgba(255,255,255,0.12)
      homio-nav-shadow: 0 18px 36px rgba(0,0,0,.20), 0 4px 10px rgba(0,0,0,.10)
      homio-nav-inactive-opacity: .7
      homio-nav-icon: rgba(255,255,255,.98)
      homio-nav-icon-active: rgba(255,255,255,.98)
      homio-nav-active-fill: rgba(10,10,10,0.3)
      homio-nav-pill-shadow: inset 0 0 16px rgba(0,0,0,0.13)
      homio-nav-fade: >
        linear-gradient(
          to top,
          rgba(0,0,0,0.55) 0%,
          rgba(0,0,0,0.0) 65%
        )
      homio-slider-track: rgba(255,255,255,0.22)
      homio-slider-progress: rgba(255,255,255,0.95)
      homio-slider-thumb: "#ffffff"
      homio-slider-shadow: 0 2px 10px rgba(0,0,0,.18)
      homio-nav-blur: blur(8px)
      hero-img-filter: saturate(1.02) brightness(.985)
      hero-tint-top: rgba(56,56,56,0.65)
      hero-tint-mid: rgba(53,53,53,0.60)
      hero-tint-bottom: rgba(50,50,50,0.50)
      dialog-surface-shadow: var(--dialog-shadow-light)
      lg-gloss-top: 1
      lg-gloss-edge: 1
      lg-gloss-bottom: 0.38
      dark-vignette: 0
      is-dark: 0
      primary-text-color: "#ffffff"
      text-primary-color: rgba(255,255,255,.95)
      secondary-text-color: rgba(240,240,240,0.8)
      disabled-text-color: rgba(208,208,208,0.5)
      sidebar-icon-color: '#aaaaad'
      sidebar-text-color: '#c9c9c9'

    dark:
      primary-background-color: rgb(40, 40, 40)
      secondary-background-color: rgb(20, 20, 20)
      app-header-background-color: rgba(76, 80, 84, 0.3)
      ha-card-background: rgba(10,10,10,0.55)
      ha-card-background-active: rgba(140,140,140,0.3)
      thermostat-card-off: rgba(14,14,14,0.18)
      thermostat-card-on: rgba(180,180,180,0.1)
      app-theme-color: rgb(0, 0, 0)
      ha-card-box-shadow: none
      button-card-box-shadow: var(--ha-shadow-dark)
      button-card-box-shadow-active: var(--ha-shadow-dark-active)
      homio-nav-bg: rgba(0,0,0,.2)
      homio-nav-border: rgba(255,255,255,0.09)
      homio-nav-inactive-opacity: .6
      homio-nav-icon: rgba(240,240,240,.75)
      homio-nav-icon-active: rgba(255,255,255,.98)
      homio-nav-shadow: transparent
      homio-nav-active-fill: rgba(255,255,255,0.15)
      homio-nav-pill-shadow: inset 0 0 3px rgba(255,255,255,0.15)
      homio-nav-fade: >
        linear-gradient(
          to top,
          rgba(0,0,0,0.6) 0%,
          rgba(0,0,0,0.0) 65%
        )
      homio-slider-track: rgba(255,255,255,0.22)
      homio-slider-progress: rgba(255,255,255,0.95)
      homio-slider-thumb: "#ffffff"
      homio-slider-shadow: 0 2px 12px rgba(0,0,0,.34)
      hero-img-filter: saturate(1.02) brightness(0.98)
      hero-tint-top: rgba(35,35,35,0.80)
      hero-tint-mid: rgba(45,45,45,0.80)
      hero-tint-bottom: rgba(50,50,50,0.80)
      dialog-surface-shadow: none
      dialog-edge-alpha: .045
      lg-gloss-top: 0.6
      lg-gloss-edge: 0.25
      lg-gloss-bottom: 0.35
      is-dark: 1
      dark-vignette: 1
      vignette-alpha: 0.78
      vignette-edge: 0.68
      vignette-bottom: 0.34
      vignette-mode: multiply
      primary-text-color: "#ffffff"
      text-primary-color: rgba(255,255,255,.95)
      secondary-text-color: rgba(240,240,240,0.7)
      disabled-text-color: rgba(208,208,208,0.5)
      sidebar-icon-color: '#67676b'
      sidebar-text-color: '#a8a8a8'

  # Global
  ha-shadow-light: >
    inset 8px 8px 14px -12px rgba(255,255,255,0.18),
    inset -8px -8px 14px -12px rgba(255,255,255,0.14),
    inset 0.5px 0.5px 2px -1.5px rgba(255,255,255,0.5),
    inset -0.5px -0.5px 2px -1.5px rgba(255,255,255,0.5),
    inset 0 0 6px -3px rgba(255,255,255,0.03),
    0 16px 28px rgba(0,0,0,0.12)

  ha-shadow-dark: >
    inset 0 0 0 0.5px rgba(255,255,255,0.06),
    inset 0 14px 32px rgba(255,255,255,0.04),
    0 0 0 0.5px rgba(255,255,255,0.03),
    0 22px 44px rgba(0,0,0,0.14)

  ha-shadow-dark-active: >
    inset 8px 8px 14px -12px rgba(255,255,255,0.18),
    inset -8px -8px 14px -12px rgba(255,255,255,0.14),
    inset 0.5px 0.5px 2px -1.5px rgba(255,255,255,0.5),
    inset -0.5px -0.5px 2px -1.5px rgba(255,255,255,0.5),
    inset 0 0 3px -3px rgba(255,255,255,0.8),
    0 16px 28px rgba(0,0,0,0.12)

  badge-shadow: >
    inset .5px .5px 4px -1px rgba(0,0,0,0.13),
    inset -.5px -.5px 1px -.5px rgba(255,255,255,0.07),
    0 8px 12px rgba(100,100,100,0.05)

  dialog-shadow-light: >
    0 22px 44px rgba(0,0,0,0.28),
    0 2px 8px rgba(0,0,0,0.18),
    inset 0 1px 0 rgba(255,255,255,0.06)

  # Fonts
  primary-font-family: "Hanken Grotesk"
  ha-font-family-body: var(--primary-font-family)
  ha-card-header-font-family: var(--primary-font-family)

  # Header
  app-header-backdrop-filter: blur(10px)
  app-header-edit-background-color: rgba(0,0,0,0.2)

  # Sidebar
  sidebar-background-color: var(--secondary-background-color)
  sidebar-selected-background-color: var(--primary-background-color)
  sidebar-selected-icon-color: var(--primary-text-color)
  sidebar-selected-text-color: var(--sidebar-selected-icon-color)

  # Dashboard / base
  primary-color: '#61b4ff'
  accent-color: '#61b4ff'
  divider-color: rgba(50, 50, 50, 0.8)
  state-icon-color: var(--primary-color)
  ha-color-on-primary-normal: var(--primary-color)

  # Entity Variables
  homio-entity-active: rgba(255,255,255,1)
  homio-entity-inactive: rgba(255,255,255,.8)
  homio-entity-picture-inactive-opacity: .8
  homio-entity-picture-active-opacity: 1
  homio-entity-picture-inactive-filter: brightness(.75) saturate(.9)
  homio-entity-picture-active-filter: none

  # Badges
  badge-background: rgba(0,0,0,0.3)
  badge-title-inactive: rgba(235,235,235,.6)
  badge-inset-start: 4px
  badge-br: 9999px
  badge-rim-width: .55px
  badge-subline-lh: 1.15
  badge-subline-lh-mobile: 1.1

  # Mobile badge formatting
  badge-col-gap-mobile: 3px
  badge-gap-mobile: 6px
  badge-row-gap-mobile: 4px
  badge-top-gap-mobile: 3px
  badge-font-size-mobile: 11px
  badge-padding-mobile: 3px 12px 3px 8px
  badge-min-height-mobile: 30px
  badge-icon-size-mobile: 24px

  # Desktop badge formatting
  badge-col-gap: 6px
  badge-gap: 8px
  badge-row-gap: 6px
  badge-top-gap: 6px
  badge-padding: 4px 12px 4px 8px
  badge-min-height: 43px
  badge-icon-size: 28px
  badge-font-size: 13px

  # Cards
  card-background-color: var(--secondary-background-color)
  paper-listbox-background-color: var(--primary-background-color)
  ha-card-header-color: var(--primary-text-color)
  paper-card-background-color: var(--ha-card-background)
  ha-card-border-color: transparent
  ha-card-border-radius: 28px
  ha-card-border-width: 0
  stack-card-gap: "0px"
  horizontal-stack-card-gap: "10px"
  scroll-guard-height: 16svh

  # Labels 
  label-badge-background-color: '#23232E'
  label-badge-text-color: '#F1F1F1'
  label-badge-red: rgba(255,159,9,0.7)

  # Layout / spacing
  page-gutter-desktop: 8vw
  page-gutter-tablet: 4vw
  page-gutter-mobile: 10px
  homio-entity-height: 145px

  header-top-desktop: clamp(340px, 32vh, 460px)
  header-top-tablet: clamp(300px, 28vh, 380px)
  header-top-mobile: clamp(24px, 13vh, 68px)
  header-logo-offset: 55px

  entity-top-fixed: 480px
  entity-top-mobile: 268px
  entity-top-tablet: 260px

  # Dialog 
  ha-dialog-surface-backdrop-filter: blur(10px) # this currently disables desktop dropdown
  ha-dialog-surface-background: var(--ha-card-background)
  ha-dialog-border-radius: 28px
  dialog-box-shadow: var(--ha-card-box-shadow)

  # Media animation
  media-orbit: 55s
  media-breathe: 36s

  # MDC / inputs / sliders
  mdc-theme-on-surface: var(--primary-text-color)
  mdc-theme-surface: var(--secondary-background-color)
  mdc-theme-text-primary-on-background: var(--primary-text-color)
  mdc-theme-text-secondary-on-background: var(--secondary-text-color)
  mdc-theme-text-icon-on-background: var(--secondary-text-color)
  mdc-theme-text-disabled-on-background: var(--disabled-text-color)

  mdc-dialog-heading-ink-color: var(--primary-text-color)
  mdc-dialog-content-ink-color: var(--secondary-text-color)

  mdc-text-field-ink-color: var(--primary-text-color)
  mdc-text-field-fill-color: transparent
  mdc-menu-surface-backdrop-filter: none
  mdc-select-ink-color: var(--primary-text-color)
  mdc-select-label-ink-color: var(--primary-text-color)
  mdc-select-idle-line-color: var(--secondary-text-color)
  mdc-select-dropdown-icon-color: var(--primary-text-color)
  mdc-select-hover-line-color: var(--secondary-text-color)
  mdc-select-fill-color: var(--card-background-color)
  mdc-checkbox-unchecked-color: '#FFF'
  mdc-radio-unchecked-color: '#FFF'

  input-label-ink-color: var(--secondary-text-color)
  input-disabled-ink-color: var(--secondary-text-color)
  input-fill-color: transparent
  input-disabled-fill-color: transparent
  input-dropdown-icon-color: var(--primary-text-color)
  input-idle-line-color: rgba(255,255,255,.2)
  input-hover-line-color: var(--secondary-text-color)

  paper-slider-knob-color: '#FFFFFF'
  paper-slider-knob-start-color: var(--paper-slider-knob-color)
  paper-slider-pin-color: var(--paper-slider-knob-color)
  paper-slider-active-color: "#0984ff"
  paper-slider-secondary-color: var(--paper-slider-knob-color)
  paper-slider-container-color: rgba(255,255,255,0.5)
  paper-slider-font-color: '#000'
  ha-slider-background: none !important

  # Code Editor
  code-editor-background-color: '#161616'

  # Layout Tweaks
  masonry-view-card-margin: "0px"

  # Browser Mod Extras
  clear-background-color: var(--ha-card-background)
  
  # Card Mod
  card-mod-theme: "homio-next"

  card-mod-root-yaml: |
    .: |
      :root {
        --page-gutter: var(--page-gutter-desktop);
        --tile-h: 182px;
        --badge-font-size-current:   var(--badge-font-size, 13px);
        --badge-icon-size-current:   var(--badge-icon-size, 28px);
        --badge-col-gap-current:     var(--badge-col-gap, 6px);
        --badge-padding-current:     var(--badge-padding, 4px 13px 4px 8px);
        --badge-min-height-current:  var(--badge-min-height, 43px);
        --badge-gap-current:         var(--badge-gap, 8px);
        --badge-row-gap-current:     var(--badge-row-gap, 6px);
        --badge-top-gap-current:     var(--badge-top-gap, 6px);
        --badge-subline-lh-current:  var(--badge-subline-lh, 1.15);
      }

      @media (min-width: 769px) and (max-width: 1249px) {
        :root {
          --page-gutter: var(--page-gutter-tablet);
        }
      }

      @media (max-width: 768px), (max-height: 500px) {
        :root {
          --page-gutter: var(--page-gutter-mobile);
          --tile-h: 168px;
          --badge-font-size-current:   var(--badge-font-size-mobile, 12px);
          --badge-icon-size-current:   var(--badge-icon-size-mobile, 26px);
          --badge-col-gap-current:     var(--badge-col-gap-mobile, 4px);
          --badge-padding-current:     var(--badge-padding-mobile, 3px 13px 3px 8px);
          --badge-min-height-current:  var(--badge-min-height-mobile, 30px);
          --badge-gap-current:         var(--badge-gap-mobile, 6px);
          --badge-row-gap-current:     var(--badge-row-gap-mobile, 4px);
          --badge-top-gap-current:     var(--badge-top-gap-mobile, 3px);
          --badge-subline-lh-current:  var(--badge-subline-lh-mobile, 1.1);
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .sub-line.scroll .sub-text,
        .eq .b {
          animation: none !important;
        }
      }

      app-header,
      app-toolbar {
        background: transparent;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      ha-card {
        transition: filter .2s ease, opacity .2s ease;
      }

  card-mod-view-yaml: |
    .: |
      hui-view,
      hui-view > #columns {
        min-height: 100% !important;
      }

      :host {
        overflow-x: visible !important;
        overflow-y: auto !important;
      }

      app-header,
      app-toolbar {
        background: transparent;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      ha-card {
        transition: filter .2s ease, opacity .2s ease;
      }

      @media (max-width: 768px), (max-height: 500px) {
        :host::after{
          content:"";
          position: fixed;
          left: 0;
          right: 0;
          bottom: 0;
          height: 170px;
          pointer-events: none;
          z-index: 2;
          background: var(--homio-nav-fade, linear-gradient(
            to top,
            rgba(0,0,0,0.82) 0%,
            rgba(0,0,0,0.0) 65%
          ));
        }
      }

  card-mod-card: |
    ha-card {
      transition: filter .22s ease, transform .12s ease !important;
      will-change: filter, transform;
    }

    @media (hover:hover) {
      :host(:not(.homio-hero)) ha-card:hover,
      :host(:not(.homio-hero)) ha-card:focus-within {
        filter: var(--homio-hover-filter, brightness(1.10)) !important;
      }
    }

    @media (hover:none) {
      :host(:not(.homio-hero)) ha-card:active {
        filter: var(--homio-hover-filter, brightness(1.12)) !important;
      }
    }

    :host(.homio-entity) {
      position: relative !important;
      z-index: 0 !important;
      display: block !important;
      border-radius: var(--ha-card-border-radius, 28px) !important;
      overflow: visible !important;
      contain: none !important;
      box-shadow: var(--button-card-box-shadow, var(--ha-card-box-shadow)) !important;
    }

    :host(.homio-entity) ha-card {
      position: relative !important;
      z-index: 0 !important;
      border-radius: inherit !important;
      overflow: hidden !important;
      background-clip: padding-box;
      box-shadow: none !important;
    }

    :host(.homio-entity) ha-card::before {
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      pointer-events:none;
      z-index:1;

      --v-alpha:  var(--vignette-alpha, 0.78);
      --v-edge:   var(--vignette-edge, 0.68);
      --v-bottom: var(--vignette-bottom, 0.34);
      --v-on:     var(--dark-vignette, 0);

      --v-a-corner: calc(.30 * var(--v-alpha) * var(--v-on));
      --v-a-edge:   calc(.22 * var(--v-edge)  * var(--v-on));
      --v-a-bottom: calc(.24 * var(--v-bottom)* var(--v-on));

      background:
        radial-gradient(140% 140% at -10% -10%, rgba(0,0,0,var(--v-a-corner)) 0%, rgba(0,0,0,0) 60%),
        radial-gradient(140% 140% at 110% 110%, rgba(0,0,0,var(--v-a-corner)) 0%, rgba(0,0,0,0) 60%),
        radial-gradient(120% 120% at 50% 120%, rgba(0,0,0,var(--v-a-bottom)) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(0deg, rgba(0,0,0,var(--v-a-edge)) 0%, rgba(0,0,0,0) 30%);

      mix-blend-mode: multiply;
    }

    :host(.homio-entity) ha-card:active {
      transform: translateY(.5px);
      backface-visibility: hidden;
      will-change: transform;
    }
